<odoo>

    <record model="ir.module.category" id="module_category_services_link_tracker">
        <field name="name">Affiliate category</field>
        <field name="sequence">14</field>
    </record>

    <record id="module_category_affiliate" model="ir.module.category">
        <field name="parent_id" ref="module_category_services_link_tracker"/>
        <field name="name">Affiliate</field>
        <field name="sequence">14</field>
    </record>

    <record id="group_aff_user" model="res.groups">
        <field name="category_id" ref="module_category_affiliate"/>
        <field name="name">Cộng tác viên</field>
    </record>

    <record id="group_aff_officer" model="res.groups">
        <field name="category_id" ref="module_category_affiliate"/>
        <field name="name">Nhân viên</field>
        <field name="implied_ids" eval="[(4, ref('group_aff_user'))]"/>
    </record>

    <record id="group_aff_manager" model="res.groups">
        <field name="name">Quản lý</field>
        <field name="category_id" ref="module_category_affiliate"/>
        <field name="implied_ids" eval="[(4, ref('group_aff_officer'))]"/>
    </record>

    <record id="group_aff_administrator" model="res.groups">
        <field name="name">Quản trị viên</field>
        <field name="category_id" ref="module_category_affiliate"/>
        <field name="implied_ids" eval="[(4, ref('group_aff_manager'))]"/>
    </record>

    <!--Link seeding CTV-->
    <record id="th_group_aff_user_rule_link_tracker" model="ir.rule">
        <field name="name">th_group_aff_user_rule_link_tracker</field>
        <field name="model_id" ref="th_affiliate.model_link_tracker"/>
        <field name="domain_force">['|', '&amp;', ('company_id' , '=', False), ('company_id' , 'in', company_ids), ('create_uid','=',user.id),]</field>
        <field name="perm_read" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_create" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_user'))]"/>
    </record>

    <record id="th_group_aff_user_rule_link_tracker" model="ir.rule">
        <field name="name">th_group_aff_user_rule_link_tracker</field>
        <field name="model_id" ref="th_affiliate.model_link_tracker"/>
        <field name="domain_force">['|', ('company_id' , '=', False), ('company_id' , 'in', company_ids)]</field>
        <field name="perm_read" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_create" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_officer'))]"/>
    </record>

    <!-- Sản phẩm  -->
    <record id="th_rule_ownership_unit_product_aff_of" model="ir.rule">
        <field name="name">th_rule_ownership_unit_of</field>
        <field name="model_id" ref="th_affiliate.model_th_product_aff"/>
        <field name="domain_force">['|',('company_id' , '=', False), ('company_id' , 'in', company_ids)]</field>
        <field name="perm_read" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_user'))]"/>
    </record>

    <!--Link giao bài-->
    <record id="th_rule_own_link_seeding_user" model="ir.rule">
        <field name="name">th_rule_own_link_seeding_user</field>
        <field name="model_id" ref="th_affiliate.model_th_link_seeding"/>
        <field name="domain_force">['|',('company_id' , '=', False), ('company_id' , 'in', company_ids)]</field>
        <field name="perm_read" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_create" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_user'))]"/>
    </record>

    <!--pay manager-->
    <record id="th_group_aff_user_rule_th_pay" model="ir.rule">
        <field name="name">th_group_aff_user_rule_th_pay</field>
        <field name="model_id" ref="th_affiliate.model_th_pay"/>
        <field name="domain_force">['|', '&amp;', ('company_id' , '=', False), ('company_id' , 'in', company_ids), ('state','=','accept')]</field>
        <field name="perm_read" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_user'))]"/>
    </record>

    <record id="th_group_aff_manager_rule_pay" model="ir.rule">
        <field name="name">th_group_aff_manager_rule_pay</field>
        <field name="model_id" ref="th_affiliate.model_th_pay"/>
        <field name="domain_force">['|',('company_id' , '=', False), ('company_id' , 'in', company_ids)]</field>
        <field name="perm_read" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_manager'))]"/>
    </record>

</odoo>