<odoo>

    <record model="ir.module.category" id="module_category_services_link_tracker">
        <field name="name">affiliate category</field>
        <field name="sequence">14</field>
    </record>

    <record id="module_category_affiliate" model="ir.module.category">
        <field name="parent_id" ref="module_category_services_link_tracker"/>
        <field name="name">Affiliate</field>
        <field name="sequence">14</field>
    </record>


    <record id="group_aff_user" model="res.groups">
         <field name="category_id" ref="module_category_affiliate"/>
        <field name="name">Cộng tác viên</field>
    </record>

    <record id="group_aff_officer" model="res.groups">
         <field name="category_id" ref="module_category_affiliate"/>
        <field name="name">Nhân viên</field>
        <field name="implied_ids" eval="[(4, ref('group_aff_user'))]"/>
    </record>

    <record id="group_aff_manager" model="res.groups">
        <field name="name">Quản lý</field>
        <field name="category_id" ref="module_category_affiliate"/>
        <field name="implied_ids" eval="[(4, ref('group_aff_officer'))]"/>
    </record>

    <record id="group_aff_administrator" model="res.groups">
        <field name="name">Quản trị viên</field>
        <field name="category_id" ref="module_category_affiliate"/>
        <field name="implied_ids" eval="[(4, ref('group_aff_manager'))]"/>
    </record>


    <record id="th_group_aff_user_rule_link_tracker" model="ir.rule">
        <field name="name">th_group_aff_user_rule_link_tracker</field>
        <field name="model_id" ref="th_affiliate.model_link_tracker"/>
        <field name="domain_force">[('create_uid','=',user.id)]</field>
        <field name="perm_read" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_create" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_user'))]"/>
    </record>

     <record id="th_group_aff_officer_rule_link_tracker" model="ir.rule">
        <field name="name">th_group_aff_user_rule_link_tracker</field>
        <field name="model_id" ref="th_affiliate.model_link_tracker"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="perm_read" eval="1"/>
        <field name="perm_write" eval="1"/>
        <field name="perm_create" eval="1"/>
        <field name="perm_unlink" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_officer'))]"/>
    </record>

    <record id="th_group_aff_user_rule_th_pay" model="ir.rule">
        <field name="name">th_group_aff_user_rule_th_pay</field>
        <field name="model_id" ref="th_affiliate.model_th_pay"/>
        <field name="domain_force">[('th_partner_id.user_ids.id','=',user.id)]</field>
        <field name="perm_read" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_user'))]"/>
    </record>

        <record id="th_group_aff_ma_rule_th_pay" model="ir.rule">
        <field name="name">th_group_aff_ma_rule_th_pay</field>
        <field name="model_id" ref="th_affiliate.model_th_pay"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="perm_read" eval="1"/>
        <field name="groups" eval="[(4, ref('th_affiliate.group_aff_manager'))]"/>
    </record>
</odoo>